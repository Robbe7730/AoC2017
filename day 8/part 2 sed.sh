python3 <(cat input.txt | sed "s/^\(.*\) inc /memory[\"\1\"] = memory[\"\1\"] + (/" |sed "s/^\(.*\) dec /memory[\"\1\"] = memory[\"\1\"] - (/" | sed "s/if \([^ ]*\)/if memory[\"\1\"]/" | sed "s/^\(\([^ ]*\) .*\)$/\1 else 0)\nmaximum = max(maximum,\2)/" | sed "1s/^/class myDict(dict):\n\tdef __missing__(self, key):\n\t\tself[key] = 0\n\t\treturn 0\nmemory = myDict()\nmaximum=0\n/" | sed '$s/$/\nprint(maximum)/')
